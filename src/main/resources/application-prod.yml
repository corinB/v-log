spring:
  datasource:
    url: jdbc:mysql://${DB_HOST:vlog-db.c1miguogu7jm.ap-northeast-2.rds.amazonaws.com}:${DB_PORT:3306}/${DB_NAME:vlog}
    username: ${DB_USERNAME}
    password: ${DB_PASSWORD}
    driver-class-name: com.mysql.cj.jdbc.Driver
  jpa:
    hibernate:
      ddl-auto: validate
    show-sql: false
  lifecycle:
    timeout-per-shutdown-phase: 30s

server:
  port: ${SERVER_PORT:8080}
  shutdown: graceful
  tomcat:
    connection-timeout: 20000
    threads:
      max: 200
      min-spare: 10

logging:
  level:
    root: INFO
    com.likelion.vlog: INFO
    org.springframework.web: WARN
    org.hibernate: WARN
  pattern:
    console: "%d{yyyy-MM-dd HH:mm:ss} - %msg%n"

# CORS Configuration
cors:
  allowed-origins: ${CORS_ALLOWED_ORIGINS:https://v-log.kro.kr}  # 허용할 프론트엔드 주소 (쉼표로 여러 개 가능)
  allowed-methods: GET,POST,PUT,DELETE,OPTIONS                   # 허용할 HTTP 메서드
  allowed-headers: "*"                                            # 허용할 요청 헤더 (* = 모두 허용)
  exposed-headers: "*"                                            # 프론트엔드에 노출할 응답 헤더 (* = 모두 노출)
  allow-credentials: true                                         # 쿠키/세션 전송 허용 (true 필수: 세션 인증 사용)
  max-age: 3600                                                   # Preflight 요청 캐시 시간 (초 단위, 3600 = 1시간)
